<!DOCTYPE html>
<html>
<head>

	<title></title>
	<script type="text/javascript" src="scripts/require-config.js"></script>
	<script type="text/javascript" src="scripts/require.js"></script>

</head>
<body>


<script type="text/javascript">

//lista de todos os módulos já carregados
var all=[];
require.onResourceLoad = function (context, map, depArray) {
	all.push(map.name);    
};

	//Módulos definidos como dependência, só serão executados apos o carregamento,
	//pois o require carrega os scripts de maneira asincrona
	require(['calc'], function(calc){
		console.log('calc', calc.somaValor());
	});

	require(['soma'], function(soma){
		//setInterval(function(){
			soma.do(2,3);
			console.log('soma', soma.valor);
		//}, 2000);		
	});

	require(['out/hello-out'], function (hello){
		hello.hi('estou fora do baseUrl');
	});

	require(['pegarUrl'], function (pegarUrl){
		console.log(pegarUrl.valor);
	});

	
	require(['soma'], function(soma){		
		console.log('valor deve estar zerado', soma.valor);
		//setInterval(function(){
			soma.do(2,3);
			console.log('soma resetada', soma.valor);
		//}, 2000);	
		
	});



	//requirejs.undef('soma');
	//resetar um módulo

	//Console debugging
	//console.log('valor tem que ser maior que zero ', require("calc").somaValor());
	

</script>

</body>
</html>